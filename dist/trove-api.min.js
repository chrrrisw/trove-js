/*! trove-api 09-10-2015 */
!function(a,b,c){"use strict";a.trove_key="",a.init=function(b){a.trove_key=b};var d={BOOK:"book",PICTURE:"picture",ARTICLE:"article",MUSIC:"music",MAP:"map",COLLECTION:"collection",NEWSPAPER:"newspaper",LIST:"list",ALL:"all"};a.ZONES=d;var e={WEBSITE:"Archived website",ARTWORK:"Art work",ARTICLE:"Article",ARTICLEABSTRACT:"Article/Abstract",ARTICLECHAPTER:"Article/Book chapter",ARTICLEPAPER:"Article/Conference paper",ARTICLEJOURNAL:"Article/Journal or magazine article",ARTICLEOTHER:"Article/Other article",ARTICLEREPORT:"Article/Report",ARTICLEREVIEW:"Article/Review",ARTICLEWORKING:"Article/Working paper",AUDIOBOOK:"Audio book",BOOK:"Book",BOOKBRAILLE:"Book/Braille",BOOKILLUSTRATED:"Book/Illustrated",BOOKLARGEPRINT:"Book/Large print",PROCEEDINGS:"Conference Proceedings",DATASET:"Data set",MAP:"Map",MAPAERIAL:"Map/Aerial photograph",MAPATLAS:"Map/Atlas",MAPBRAILLE:"Map/Braille",MAPELECTRONIC:"Map/Electronic",MAPGLOBE:"Map/Globe or object",MAPLARGE:"Map/Large print",MAPSERIES:"Map/Map series",MAPMICROFORM:"Map/Microform",MAPSINGLE:"Map/Single map",OBJECT:"Object",PERIODICAL:"Periodical",PERIODICALJOURNAL:"Periodical/Journal, magazine, other",PERIODICALNEWSPAPER:"Periodical/Newspaper",PHOTO:"Photograph",POSTER:"Poster, chart, other",PUBLISHED:"Published",SHEETMUSIC:"Sheet music",SOUND:"Sound",SOUNDTALK:"Sound/Interview, lecture, talk",SOUNDOTHER:"Sound/Other sound",SOUNDMUSIC:"Sound/Recorded music",THESIS:"Thesis",UNPUBLISHED:"Unpublished",VIDEO:"Video",VIDEOCAPTIONED:"Video/Captioned"};a.FORMATS=e;var f={ONLINE:"y",FREE_ACCESS:"y/f",MEMBERSHIP:"y/r",SUBSCRIPTION:"y/s",POSSIBLY:"y/u"};a.AVAILABILITIES=f;var g={};a.VENDORS=g;var h={TRADE:"Trade",GENERAL:"General",ACADEMIC:"Academic",PROFESSIONAL:"Professional",CHILDREN:"Children's",CHILDRENUPPER:"Children's - Upper elementry",CHILDRENLOWER:"Children's - Lower elementry"};a.AUDIENCES=h;var i={ARTICLE:"Article",ADVERTISING:"Advertising",LISTS:"Detailed lists, results, guides",FAMILY_NOTICES:"Family Notices",LITERATURE:"Literature"};a.CATEGORIES=i;var j={FORMAT:"format",DECADE:"decade",YEAR:"year",MONTH:"month",LANGUAGE:"language",AVAILABILITY:"availability",AUSTRALIAN:"australian",OCCUPATION:"occupation",ZOOM:"zoom",VENDORDB:"vendordb",VENDOR:"vendor",AUDIENCE:"audience",TITLE:"title",CATEGORY:"category",ILLUSTRATED:"illustrated",ILLTYPE:"illtype",WORD:"word",ALL:"all"};a.FACETS=j;var k={FORMAT:"l-format",DECADE:"l-decade",YEAR:"l-year",MONTH:"l-month",LANGUAGE:"l-language",AVAILABILITY:"l-availability",AUSTRALIAN:"l-australian",OCCUPATION:"l-occupation",ZOOM:"l-zoom",VENDORDB:"l-vendordb",VENDOR:"l-vendor",AUDIENCE:"l-audience",TITLE:"l-title",CATEGORY:"l-category",ILLUSTRATED:"l-illustrated",ILLTYPE:"l-illtype",WORD:"l-word",ALL:"l-all"};a.LIMITS=k;var l={DATEDESC:"datedesc",DATEASC:"dateasc",RELEVANCE:"relevance"};a.SORTBY=l;var m={FULL:"full",BRIEF:"brief"};a.RECLEVEL=m;var n={TAGS:"tags",COMMENTS:"comments",LISTS:"lists",HOLDINGS:"holdings",LINKS:"links",SUBSCRIBINGLIBS:"subscribinglibs",WORKVERSIONS:"workversions",ARTICLETEXT:"articletext",YEARS:"years",LISTITEMS:"listitems",ALL:"all"};a.INCLUDES=n;var o={NSW:"nsw",ACT:"act",QLD:"qld",TAS:"tas",SA:"sa",NT:"nt",WA:"wa",VIC:"vic",NATIONAL:"national",ALL:""};a.STATES=o;var p={people:"people",list:"list",newspaper:"article",article:"work",collection:"work",book:"work",picture:"work",map:"work",music:"work"};a.SEARCH_RECORDS=p;var q={};a.CONSTRUCTORS=q;var r="http://api.trove.nla.gov.au/",s={WORK:"work/",NEWS:"newspaper/",LIST:"list/"};a.RECORD_TYPE=s;var t={WORK:r+s.WORK,LIST:r+s.LIST,NP_ARTICLE:r+s.NEWS,NP_TITLE:r+s.NEWS+"title/",NP_TITLES:r+s.NEWS+"titles",QUERY:r+"result"};a.API=t}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(a){var d;a.init!==c&&(d=a.init,delete a.init),b.extend(this,a),d!==c&&this.get({id:d})}d.prototype.process_done=function(a){b.extend(this,a.work),this.done!==c&&this.done(this)},d.prototype.process_fail=function(a,b,d){console.error(b),this.fail!==c&&this.fail(this)},d.prototype.get=function(d){d&&(this.id=d.id||this.id,this.reclevel=d.reclevel||this.reclevel,this.includes=d.includes||this.includes,this.done=d.done||this.done,this.fail=d.fail||this.fail);var e={key:a.trove_key,encoding:"json"};this.reclevel!==c&&(e.reclevel=this.reclevel),this.includes!==c&&Array.isArray(this.includes)&&this.includes.length>0&&(e.include=this.includes.join(",")),b.ajax({dataType:"jsonp",url:a.API.WORK+this.id,data:e,context:this}).done(this.process_done).fail(this.process_fail)},a.Work=d,a.CONSTRUCTORS.work=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(a){b.extend(this,a),this.response=c,this.items={},this._last_search=c,this.facets=[],this.limits={}}d.prototype.zone_list=function(a){return this.items[a]||[]},d.prototype.process_done=function(b){var d,e;this.items={},this.response=b.response;for(var f in this.response.zone){e=this.response.zone[f].name,this.items[e]=[],d=this.response.zone[f].records[a.SEARCH_RECORDS[e]];for(var g in d)this.items[e].push(new a.CONSTRUCTORS[e](d[g]))}this.done!==c&&this.done(this)},d.prototype.process_fail=function(a,b,d){console.error(b),this.fail!==c&&this.fail(this)},d.prototype.remove_facet=function(a){-1!=this.facets.indexOf(a)&&this.facets.splice(this.facets.indexOf(a),1)},d.prototype.add_facet=function(a){this.facets.push(a)},d.prototype.clear_date_range_limit=function(){this.limits.decade!==c&&delete this.limits.decade,this.limits.year!==c&&delete this.limits.year,this.limits.month!==c&&delete this.limits.month},d.prototype.limit_date_range=function(a){var b=a.split("-");b.length>=1&&(3==b[0].length?this.limits.decade=b[0]:4==b[0].length&&(this.limits.decade=b[0].substr(0,3),this.limits.year=b[0])),b.length>=2&&(this.limits.month=b[1])},d.prototype.clear_category_limit=function(){this.limits.category!==c&&delete this.limits.category},d.prototype.limit_category=function(a){this.limits.category=a},d.prototype.query=function(d){if(d===c)return void console.error("options is undefined");this.reclevel=d.reclevel||this.reclevel,this.includes=d.includes||this.includes,this.done=d.done||this.done,this.fail=d.fail||this.fail,this.zones=d.zones||this.zones,this.terms=d.terms||this.terms,this.facets=d.facets||this.facets;var e=a.ZONES.ALL;Array.isArray(this.zones)&&(e=this.zones.join(","));var f={key:a.trove_key,encoding:"json",zone:e,q:this.terms,s:0,n:20};d.start!==c&&(f.s=d.start),d.number!==c&&(f.n=d.number),d.sort!==c&&(f.sortby=d.sort),d.reclevel!==c&&(f.reclevel=d.reclevel),this.includes!==c&&Array.isArray(this.includes)&&this.includes.length>0&&(f.include=this.includes.join(",")),this.facets!==c&&Array.isArray(this.facets)&&this.facets.length>0&&(f.facet=this.facets.join(","));var g,h;if(d.limits!==c?(h=Object.keys(d.limits),g=d.limits):(h=Object.keys(this.limits),g=this.limits),h.length>0)for(var i in h)f["l-"+h[i]]=g[h[i]];this._last_search=f,b.ajax({dataType:"jsonp",url:a.API.QUERY,data:f,context:this}).done(this.process_done).fail(this.process_fail)},d.prototype.requery=function(d,e){d&&(this.done=d.done||this.done,this.fail=d.fail||this.fail),this._last_search!==c&&(this._last_search.s=this._last_search.s+e,b.ajax({dataType:"jsonp",url:a.API.QUERY,data:this._last_search,context:this}).done(this.process_done).fail(this.process_fail))},d.prototype.next=function(a){this._last_search!==c&&this.requery(a,this._last_search.n)},d.prototype.previous=function(a){this._last_search!==c&&this.requery(a,-this._last_search.n)},d.prototype.newspaper_articles=function(){return[]},a.Search=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(a){var d;a.init!==c&&(d=a.init,delete a.init),b.extend(this,a),d!==c&&this.get({id:d})}d.prototype.process_done=function(a){b.extend(this,a.list),this.done!==c&&this.done(this)},d.prototype.process_fail=function(a,b,d){console.error(b),this.fail!==c&&this.fail(this)},d.prototype.get=function(d){d&&(this.id=d.id||this.id,this.reclevel=d.reclevel||this.reclevel,this.includes=d.includes||this.includes,this.done=d.done||this.done,this.fail=d.fail||this.fail);var e={key:a.trove_key,encoding:"json"};this.reclevel!==c&&(e.reclevel=this.reclevel),this.includes!==c&&Array.isArray(this.includes)&&this.includes.length>0&&(e.include=this.includes.join(",")),b.ajax({dataType:"jsonp",url:a.API.LIST+this.id,data:e,context:this}).done(this.process_done).fail(this.process_fail)},a.List=d,a.CONSTRUCTORS.list=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(a){var d;a.init!==c&&(d=a.init,delete a.init),b.extend(this,a),d!==c&&this.get({id:d})}d.prototype.process_done=function(a){b.extend(this,a.people),this.done!==c&&this.done(this)},d.prototype.process_fail=function(a,b,d){console.error(b),this.fail!==c&&this.fail(this)},d.prototype.get=function(d){d&&(this.id=d.id||this.id,this.reclevel=d.reclevel||this.reclevel,this.includes=d.includes||this.includes,this.done=d.done||this.done,this.fail=d.fail||this.fail);var e={key:a.trove_key,encoding:"json"};this.reclevel!==c&&(e.reclevel=this.reclevel),this.includes!==c&&Array.isArray(this.includes)&&this.includes.length>0&&(e.include=this.includes.join(",")),b.ajax({dataType:"jsonp",url:a.API.PERSON+this.id,data:e,context:this}).done(this.process_done).fail(this.process_fail)},a.Person=d,a.CONSTRUCTORS.people=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(b){a.CONSTRUCTORS.work.call(this,b)}d.prototype=Object.create(a.CONSTRUCTORS.work.prototype),d.prototype.constructor=d,a.Article=d,a.CONSTRUCTORS.article=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(b){a.CONSTRUCTORS.work.call(this,b)}d.prototype=Object.create(a.CONSTRUCTORS.work.prototype),d.prototype.constructor=d,a.Picture=d,a.CONSTRUCTORS.picture=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(b){a.CONSTRUCTORS.work.call(this,b)}d.prototype=Object.create(a.CONSTRUCTORS.work.prototype),d.prototype.constructor=d,a.Book=d,a.CONSTRUCTORS.book=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(b){a.CONSTRUCTORS.work.call(this,b)}d.prototype=Object.create(a.CONSTRUCTORS.work.prototype),d.prototype.constructor=d,a.Map=d,a.CONSTRUCTORS.map=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(b){a.CONSTRUCTORS.work.call(this,b)}d.prototype=Object.create(a.CONSTRUCTORS.work.prototype),d.prototype.constructor=d,a.Music=d,a.CONSTRUCTORS.music=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(b){a.CONSTRUCTORS.work.call(this,b)}d.prototype=Object.create(a.CONSTRUCTORS.work.prototype),d.prototype.constructor=d,a.Collection=d,a.CONSTRUCTORS.collection=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(a){var d;a.init!==c&&(d=a.init,delete a.init),b.extend(this,a),d!==c&&this.get({id:d})}d.prototype.process_done=function(a){b.extend(this,a.article),this.done!==c&&this.done(this)},d.prototype.process_fail=function(a,b,d){console.error(b),this.fail!==c&&this.fail(this)},d.prototype.get=function(d){d&&(this.id=d.id||this.id,this.reclevel=d.reclevel||this.reclevel,this.includes=d.includes||this.includes,this.done=d.done||this.done,this.fail=d.fail||this.fail);var e={key:a.trove_key,encoding:"json"};this.reclevel!==c&&(e.reclevel=this.reclevel),this.includes!==c&&Array.isArray(this.includes)&&this.includes.length>0&&(e.include=this.includes.join(",")),b.ajax({dataType:"jsonp",url:a.API.NP_ARTICLE+this.id,data:e,context:this}).done(this.process_done).fail(this.process_fail)},d.prototype.get_newspaper=function(b){return this.title!==c&&this.title.id!==c?new a.CONSTRUCTORS.newspaper_title({init:this.title.id,done:b.done||this.done}):void 0},a.NewspaperArticle=d,a.CONSTRUCTORS.newspaper=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(a){var d;a.init!==c&&(d=a.init,delete a.init),b.extend(this,a),this.state&&(this.stateabbr=e[this.state]),d!==c&&this.get({id:d})}var e={ACT:"ACT",National:"NATIONAL","New South Wales":"NSW","Northern Territory":"NT",Queensland:"QLD","South Australia":"SA",Tasmania:"TAS",Victoria:"VIC","Western Australia":"WA"};d.prototype.get=function(d){d&&(this.id=d.id||this.id,this.range=d.range||this.range,this.includes=d.includes||this.includes,this.done=d.done||this.done,this.fail=d.fail||this.fail);var f={key:a.trove_key,encoding:"json"};this.includes!==c&&Array.isArray(this.includes)&&this.includes.length>0&&(f.include=this.includes.join(",")),this.range!==c&&(f.range=this.range),b.ajax({dataType:"jsonp",url:a.API.NP_TITLE+this.id,data:f,context:this}).done(function(a,d,f){b.extend(this,a.newspaper),this.state&&(this.stateabbr=e[this.state]),this.done!==c&&this.done(this)})},a.NewspaperTitle=d,a.CONSTRUCTORS.newspaper_title=d}(window.Trove=window.Trove||{},jQuery),function(a,b,c){"use strict";function d(a){b.extend(this,a),this.newspapers=[],this.state!==c&&this.get()}d.prototype.process_done=function(b,d,e){this.newspapers=[];for(var f in b.response.records.newspaper)this.newspapers.push(new a.CONSTRUCTORS.newspaper_title(b.response.records.newspaper[f]));this.done!==c&&this.done(this)},d.prototype.process_fail=function(a,b,d){console.error(b),this.fail!==c&&this.fail(this)},d.prototype.get=function(d){d&&(this.done=d.done||this.done,this.fail=d.fail||this.fail,this.state=d.state||this.state);var e={key:a.trove_key,encoding:"json"};this.state!==c&&this.state!=a.STATES.ALL&&(e.state=this.state),b.ajax({dataType:"jsonp",url:a.API.NP_TITLES,data:e,context:this}).done(this.process_done).fail(this.process_fail)},a.NewspaperList=d}(window.Trove=window.Trove||{},jQuery);